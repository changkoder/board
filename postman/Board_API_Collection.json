{
	"info": {
		"_postman_id": "board-api-collection",
		"name": "게시판 프로젝트 API Collection",
		"description": "Spring Boot 게시판 프로젝트 전체 API 테스트 컬렉션.\n\n## 사전 준비\n1. Environment 생성 후 `baseUrl` = `http://localhost:8080` 설정\n2. Spring Boot 서버를 `local` 프로필로 실행 (DataInitializer 활성)\n3. 폴더 순서대로 실행\n\n## 환경변수\n- `baseUrl`: 서버 주소\n- `accessToken`: 일반 유저 로그인 후 자동 세팅\n- `adminAccessToken`: 관리자 로그인 후 자동 세팅\n- `refreshToken`: 로그인 후 자동 세팅\n\n## DataInitializer 기본 데이터\n- admin@test.com / admin1234 (관리자)\n- test1@test.com / 1234 (일반유저1)\n- test2@test.com / 1234 (일반유저2)\n- 카테고리: 자유(1), 질문(2), 정보공유(3)\n- 게시글 3개, 댓글 4개 (모두 test1 작성)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080"
		}
	],
	"item": [
		{
			"name": "01. 회원가입/로그인",
			"description": "회원가입 및 로그인 테스트. DataInitializer와 충돌 방지를 위해 새 이메일 사용.\n로그인은 DataInitializer가 생성한 계정 사용.",
			"item": [
				{
					"name": "1-1. 회원가입 (유저1)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"newuser1@test.com\",\n  \"password\": \"12345678\",\n  \"nickname\": \"새유저1\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/signup",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "signup"]
						},
						"description": "새 유저1 회원가입. DataInitializer 데이터와 충돌하지 않는 이메일 사용."
					},
					"response": []
				},
				{
					"name": "1-2. 회원가입 (유저2)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"newuser2@test.com\",\n  \"password\": \"12345678\",\n  \"nickname\": \"새유저2\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/signup",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "signup"]
						},
						"description": "새 유저2 회원가입. 신고 테스트 등에서 다른 유저 토큰이 필요할 때 사용."
					},
					"response": []
				},
				{
					"name": "1-3. 로그인 (일반유저 - test1)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.success) {",
									"    pm.globals.set(\"accessToken\", jsonData.data.accessToken);",
									"    pm.globals.set(\"refreshToken\", jsonData.data.refreshToken);",
									"    console.log(\"accessToken 저장 완료: \" + jsonData.data.accessToken.substring(0, 20) + \"...\");",
									"    console.log(\"refreshToken 저장 완료\");",
									"}",
									"",
									"pm.test(\"로그인 성공\", function () {",
									"    pm.response.to.have.status(200);",
									"    pm.expect(jsonData.success).to.be.true;",
									"    pm.expect(jsonData.data.accessToken).to.be.a('string');",
									"    pm.expect(jsonData.data.refreshToken).to.be.a('string');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test1@test.com\",\n  \"password\": \"1234\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "login"]
						},
						"description": "DataInitializer가 생성한 test1 계정으로 로그인.\n응답의 accessToken, refreshToken을 컬렉션 변수에 자동 저장."
					},
					"response": []
				},
				{
					"name": "1-4. 로그인 (관리자)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.success) {",
									"    pm.globals.set(\"adminAccessToken\", jsonData.data.accessToken);",
									"    console.log(\"adminAccessToken 저장 완료\");",
									"}",
									"",
									"pm.test(\"관리자 로그인 성공\", function () {",
									"    pm.response.to.have.status(200);",
									"    pm.expect(jsonData.success).to.be.true;",
									"    pm.expect(jsonData.data.accessToken).to.be.a('string');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@test.com\",\n  \"password\": \"admin1234\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "login"]
						},
						"description": "관리자 계정 로그인. adminAccessToken 컬렉션 변수에 자동 저장."
					},
					"response": []
				}
			]
		},
		{
			"name": "02. 게시글 CRUD",
			"description": "게시글 생성, 조회(페이징/무한스크롤), 수정, 삭제 테스트.",
			"item": [
				{
					"name": "2-1. 게시글 작성 (자유게시판)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"첫 번째 글\",\n  \"content\": \"자유 게시판 내용입니다\",\n  \"categoryId\": 1,\n  \"imageUrls\": [\"https://example.com/img1.jpg\"]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/posts",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts"]
						},
						"description": "자유 게시판(categoryId=1)에 이미지 포함 게시글 작성."
					},
					"response": []
				},
				{
					"name": "2-2. 게시글 작성 (질문게시판)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"두 번째 글\",\n  \"content\": \"질문 게시판 내용입니다\",\n  \"categoryId\": 2\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/posts",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts"]
						},
						"description": "질문 게시판(categoryId=2)에 이미지 없이 게시글 작성."
					},
					"response": []
				},
				{
					"name": "2-3. 게시글 목록 조회 (전체)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/posts",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts"]
						},
						"description": "전체 게시글 목록 조회. 인증 불필요. 페이지네이션 기본값 적용."
					},
					"response": []
				},
				{
					"name": "2-4. 게시글 목록 조회 (카테고리 필터)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/posts?categoryId=1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts"],
							"query": [
								{
									"key": "categoryId",
									"value": "1"
								}
							]
						},
						"description": "자유 게시판(categoryId=1) 게시글만 필터링하여 조회."
					},
					"response": []
				},
				{
					"name": "2-5. 게시글 무한스크롤 (첫 페이지)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/posts/infinite",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "infinite"]
						},
						"description": "무한스크롤 첫 페이지 조회. 커서 기반 페이지네이션."
					},
					"response": []
				},
				{
					"name": "2-6. 게시글 무한스크롤 (다음 페이지)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/posts/infinite?lastPostId=2&size=10",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "infinite"],
							"query": [
								{
									"key": "lastPostId",
									"value": "2"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						},
						"description": "무한스크롤 다음 페이지. lastPostId 이후 게시글 조회."
					},
					"response": []
				},
				{
					"name": "2-7. 게시글 상세 조회 (비로그인)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/posts/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "1"]
						},
						"description": "비로그인 상태로 게시글 상세 조회. 조회수 증가 X."
					},
					"response": []
				},
				{
					"name": "2-8. 게시글 상세 조회 (로그인)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/posts/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "1"]
						},
						"description": "로그인 상태로 게시글 상세 조회. 조회수 증가 O. 좋아요/북마크 상태 포함."
					},
					"response": []
				},
				{
					"name": "2-9. 게시글 수정",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"수정된 제목\",\n  \"content\": \"수정된 내용\",\n  \"categoryId\": 2,\n  \"imageUrls\": [\"https://example.com/img2.jpg\"]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/posts/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "1"]
						},
						"description": "게시글 1번 수정. 제목, 내용, 카테고리, 이미지 변경."
					},
					"response": []
				},
				{
					"name": "2-10. 게시글 삭제",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/posts/2",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "2"]
						},
						"description": "게시글 2번 삭제. 본인 작성 글만 삭제 가능."
					},
					"response": []
				}
			]
		},
		{
			"name": "03. 댓글 CRUD",
			"description": "댓글 작성(대댓글 포함), 조회, 수정, 삭제 테스트.",
			"item": [
				{
					"name": "3-1. 댓글 작성",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"content\": \"첫 번째 댓글입니다\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/posts/1/comments",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "1", "comments"]
						},
						"description": "게시글 1번에 일반 댓글 작성."
					},
					"response": []
				},
				{
					"name": "3-2. 대댓글 작성",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"content\": \"대댓글입니다\",\n  \"parentId\": 1\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/posts/1/comments",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "1", "comments"]
						},
						"description": "댓글 1번에 대한 대댓글 작성. parentId로 부모 댓글 지정."
					},
					"response": []
				},
				{
					"name": "3-3. 댓글 목록 조회",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/posts/1/comments",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "1", "comments"]
						},
						"description": "게시글 1번의 전체 댓글 조회. 대댓글은 children으로 중첩. 인증 불필요."
					},
					"response": []
				},
				{
					"name": "3-4. 댓글 수정",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"content\": \"수정된 댓글입니다\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/comments/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "comments", "1"]
						},
						"description": "댓글 1번 내용 수정. 본인 작성 댓글만 수정 가능."
					},
					"response": []
				},
				{
					"name": "3-5. 댓글 삭제",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/comments/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "comments", "1"]
						},
						"description": "댓글 1번 삭제. 본인 작성 댓글만 삭제 가능."
					},
					"response": []
				}
			]
		},
		{
			"name": "04. 좋아요 & 북마크",
			"description": "좋아요/북마크 토글 동작 테스트. 같은 API를 반복 호출하면 토글됨.",
			"item": [
				{
					"name": "4-1. 게시글 좋아요 (첫 번째 - 좋아요)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"200 응답 확인\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"좋아요 성공 (true)\", function () {",
									"    var jsonData = pm.response.json();",
									"    console.log(\"좋아요 응답:\", JSON.stringify(jsonData));",
									"    pm.expect(jsonData.data).to.be.true;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/posts/1/like",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "1", "like"]
						},
						"description": "게시글 1번 좋아요. 첫 호출 → 좋아요 추가 (응답: true)."
					},
					"response": []
				},
				{
					"name": "4-2. 게시글 좋아요 (두 번째 - 취소)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"200 응답 확인\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"좋아요 취소 (false)\", function () {",
									"    var jsonData = pm.response.json();",
									"    console.log(\"좋아요 취소 응답:\", JSON.stringify(jsonData));",
									"    pm.expect(jsonData.data).to.be.false;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/posts/1/like",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "1", "like"]
						},
						"description": "게시글 1번 좋아요 두 번째 호출 → 좋아요 취소 (응답: false)."
					},
					"response": []
				},
				{
					"name": "4-3. 게시글 좋아요 (세 번째 - 다시 좋아요)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"200 응답 확인\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"다시 좋아요 (true)\", function () {",
									"    var jsonData = pm.response.json();",
									"    console.log(\"다시 좋아요 응답:\", JSON.stringify(jsonData));",
									"    pm.expect(jsonData.data).to.be.true;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/posts/1/like",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "1", "like"]
						},
						"description": "게시글 1번 좋아요 세 번째 호출 → 다시 좋아요 (응답: true)."
					},
					"response": []
				},
				{
					"name": "4-4. 댓글 좋아요",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/comments/1/like",
							"host": ["{{baseUrl}}"],
							"path": ["api", "comments", "1", "like"]
						},
						"description": "댓글 1번 좋아요 토글."
					},
					"response": []
				},
				{
					"name": "4-5. 게시글 북마크 (첫 번째 - 추가)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"200 응답 확인\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"북마크 추가 (true)\", function () {",
									"    var jsonData = pm.response.json();",
									"    console.log(\"북마크 추가 응답:\", JSON.stringify(jsonData));",
									"    pm.expect(jsonData.data).to.be.true;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/posts/1/bookmark",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "1", "bookmark"]
						},
						"description": "게시글 1번 북마크 추가 (응답: true)."
					},
					"response": []
				},
				{
					"name": "4-6. 게시글 북마크 (두 번째 - 취소)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"200 응답 확인\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"북마크 취소 (false)\", function () {",
									"    var jsonData = pm.response.json();",
									"    console.log(\"북마크 취소 응답:\", JSON.stringify(jsonData));",
									"    pm.expect(jsonData.data).to.be.false;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/posts/1/bookmark",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "1", "bookmark"]
						},
						"description": "게시글 1번 북마크 두 번째 호출 → 북마크 취소 (응답: false)."
					},
					"response": []
				}
			]
		},
		{
			"name": "05. 검색 & 인기글",
			"description": "게시글 검색 (제목/내용/작성자) 및 인기글 조회 테스트.",
			"item": [
				{
					"name": "5-1. 검색 - 제목 (TITLE)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/posts/search?searchType=TITLE&keyword=첫",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "search"],
							"query": [
								{
									"key": "searchType",
									"value": "TITLE"
								},
								{
									"key": "keyword",
									"value": "첫"
								}
							]
						},
						"description": "제목에 '첫' 포함된 게시글 검색. 인증 불필요."
					},
					"response": []
				},
				{
					"name": "5-2. 검색 - 제목+내용 (TITLE_CONTENT)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/posts/search?searchType=TITLE_CONTENT&keyword=내용",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "search"],
							"query": [
								{
									"key": "searchType",
									"value": "TITLE_CONTENT"
								},
								{
									"key": "keyword",
									"value": "내용"
								}
							]
						},
						"description": "제목 또는 내용에 '내용' 포함된 게시글 검색."
					},
					"response": []
				},
				{
					"name": "5-3. 검색 - 작성자 (AUTHOR)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/posts/search?searchType=AUTHOR&keyword=테스트",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "search"],
							"query": [
								{
									"key": "searchType",
									"value": "AUTHOR"
								},
								{
									"key": "keyword",
									"value": "테스트"
								}
							]
						},
						"description": "작성자 닉네임에 '테스트' 포함된 게시글 검색."
					},
					"response": []
				},
				{
					"name": "5-4. 인기글 조회",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/posts/popular",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "popular"]
						},
						"description": "인기 게시글 목록 조회. 인증 불필요."
					},
					"response": []
				}
			]
		},
		{
			"name": "06. 알림",
			"description": "알림 조회, 개별 읽음, 전체 읽음 처리 테스트.",
			"item": [
				{
					"name": "6-1. 알림 목록 조회",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/notifications",
							"host": ["{{baseUrl}}"],
							"path": ["api", "notifications"]
						},
						"description": "내 알림 목록 조회."
					},
					"response": []
				},
				{
					"name": "6-2. 알림 읽음 처리 (개별)",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/notifications/1/read",
							"host": ["{{baseUrl}}"],
							"path": ["api", "notifications", "1", "read"]
						},
						"description": "알림 1번 읽음 처리."
					},
					"response": []
				},
				{
					"name": "6-3. 알림 전체 읽음 처리",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/notifications/read-all",
							"host": ["{{baseUrl}}"],
							"path": ["api", "notifications", "read-all"]
						},
						"description": "모든 알림 읽음 처리."
					},
					"response": []
				}
			]
		},
		{
			"name": "07. 신고",
			"description": "게시글/댓글 신고 테스트.\n\n⚠️ 주의: test1이 test1 본인 글을 신고하면 CANNOT_REPORT_OWN 에러 발생.\nDataInitializer가 만든 게시글/댓글은 모두 test1 작성이므로, 다른 유저(test2) 토큰이 필요할 수 있음.\n현재는 test1 토큰으로 요청하되, 본인 글 신고 에러를 확인하는 용도로 사용.",
			"item": [
				{
					"name": "7-1. 게시글 신고",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"reason\": \"SPAM\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/posts/1/report",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "1", "report"]
						},
						"description": "게시글 1번 스팸 신고.\n⚠️ test1이 본인 글 신고 시 CANNOT_REPORT_OWN 에러.\ntest2 토큰으로 변경하거나, 2-1에서 만든 게시글(다른 유저 글)을 신고해야 함."
					},
					"response": []
				},
				{
					"name": "7-2. 댓글 신고",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"reason\": \"ABUSE\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/comments/1/report",
							"host": ["{{baseUrl}}"],
							"path": ["api", "comments", "1", "report"]
						},
						"description": "댓글 1번 욕설/폭언 신고.\n⚠️ 마찬가지로 본인 댓글 신고 불가."
					},
					"response": []
				}
			]
		},
		{
			"name": "08. 마이페이지",
			"description": "내 정보 조회/수정, 비밀번호 변경, 내가 쓴 글/댓글/좋아요/북마크 조회.",
			"item": [
				{
					"name": "8-1. 내 정보 조회",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users/me",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "me"]
						},
						"description": "현재 로그인한 유저 정보 조회."
					},
					"response": []
				},
				{
					"name": "8-2. 내 정보 수정",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nickname\": \"변경된닉네임\",\n  \"profileImg\": \"https://example.com/profile.jpg\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/users/me",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "me"]
						},
						"description": "닉네임과 프로필 이미지 변경."
					},
					"response": []
				},
				{
					"name": "8-3. 비밀번호 변경",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"currentPassword\": \"1234\",\n  \"newPassword\": \"87654321\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/users/me/password",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "me", "password"]
						},
						"description": "비밀번호 변경. currentPassword는 DataInitializer가 설정한 '1234'."
					},
					"response": []
				},
				{
					"name": "8-4. 내가 쓴 글 조회",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users/me/posts",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "me", "posts"]
						},
						"description": "내가 작성한 게시글 목록 조회."
					},
					"response": []
				},
				{
					"name": "8-5. 내가 쓴 댓글 조회",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users/me/comments",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "me", "comments"]
						},
						"description": "내가 작성한 댓글 목록 조회."
					},
					"response": []
				},
				{
					"name": "8-6. 내가 좋아요한 글 조회",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users/me/likes",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "me", "likes"]
						},
						"description": "내가 좋아요한 게시글 목록 조회."
					},
					"response": []
				},
				{
					"name": "8-7. 내가 북마크한 글 조회",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users/me/bookmarks",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "me", "bookmarks"]
						},
						"description": "내가 북마크한 게시글 목록 조회."
					},
					"response": []
				}
			]
		},
		{
			"name": "09. 관리자 API",
			"description": "관리자 전용 API. adminAccessToken 사용.\n숨김 게시글/댓글 조회, 복원, 강제삭제, 유저 차단/해제.",
			"item": [
				{
					"name": "9-1. 숨김 게시글 조회",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminAccessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/posts/hidden",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "posts", "hidden"]
						},
						"description": "신고로 숨김 처리된 게시글 목록 조회."
					},
					"response": []
				},
				{
					"name": "9-2. 숨김 댓글 조회",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminAccessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/comments/hidden",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "comments", "hidden"]
						},
						"description": "신고로 숨김 처리된 댓글 목록 조회."
					},
					"response": []
				},
				{
					"name": "9-3. 게시글 숨김 해제 (복원)",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminAccessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/posts/1/restore",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "posts", "1", "restore"]
						},
						"description": "게시글 1번 숨김 해제."
					},
					"response": []
				},
				{
					"name": "9-4. 댓글 숨김 해제 (복원)",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminAccessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/comments/1/restore",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "comments", "1", "restore"]
						},
						"description": "댓글 1번 숨김 해제."
					},
					"response": []
				},
				{
					"name": "9-5. 게시글 강제 삭제",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminAccessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/posts/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "posts", "1"]
						},
						"description": "관리자가 게시글 1번 강제 삭제."
					},
					"response": []
				},
				{
					"name": "9-6. 댓글 강제 삭제",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminAccessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/comments/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "comments", "1"]
						},
						"description": "관리자가 댓글 1번 강제 삭제."
					},
					"response": []
				},
				{
					"name": "9-7. 유저 차단",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminAccessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/users/2/block",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "users", "2", "block"]
						},
						"description": "유저 2번(test1) 차단."
					},
					"response": []
				},
				{
					"name": "9-8. 차단된 유저 목록 조회",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminAccessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/users/blocked",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "users", "blocked"]
						},
						"description": "차단된 유저 목록 조회."
					},
					"response": []
				},
				{
					"name": "9-9. 유저 차단 해제",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{adminAccessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/users/2/block",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "users", "2", "block"]
						},
						"description": "유저 2번 차단 해제."
					},
					"response": []
				}
			]
		},
		{
			"name": "10. 토큰 관련",
			"description": "토큰 재발급 및 로그아웃 테스트.",
			"item": [
				{
					"name": "10-1. 토큰 재발급",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.success) {",
									"    pm.globals.set(\"accessToken\", jsonData.data.accessToken);",
									"    pm.globals.set(\"refreshToken\", jsonData.data.refreshToken);",
									"    console.log(\"토큰 재발급 완료 - 변수 업데이트\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/refresh",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "refresh"]
						},
						"description": "refreshToken으로 새 accessToken/refreshToken 발급.\n발급된 토큰은 자동으로 컬렉션 변수에 업데이트."
					},
					"response": []
				},
				{
					"name": "10-2. 로그아웃",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/auth/logout",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "logout"]
						},
						"description": "로그아웃. 서버 측 refreshToken 무효화."
					},
					"response": []
				}
			]
		},
		{
			"name": "11. 에러 케이스",
			"description": "권한 체크 및 에러 응답 확인용.\n⚠️ 회원 탈퇴(11-3)는 시나리오 마지막에 실행할 것.",
			"item": [
				{
					"name": "11-0. 재로그인 (에러 테스트용)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.globals.set('accessToken', jsonData.data.accessToken);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test1@test.com\",\n  \"password\": \"87654321\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "login"]
						},
						"description": "로그아웃 후 에러 테스트를 위한 재로그인. 비밀번호는 8-3에서 변경된 87654321."
					},
					"response": []
				},
				{
					"name": "11-1. 관리자 API에 일반유저 접근 (403)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"403 Forbidden 확인\", function () {",
									"    pm.response.to.have.status(403);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admin/posts/hidden",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "posts", "hidden"]
						},
						"description": "일반 유저 토큰으로 관리자 API 접근 → 403 Forbidden 예상."
					},
					"response": []
				},
				{
					"name": "11-2. 토큰 없이 수정 요청 (401)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"401 Unauthorized 확인\", function () {",
									"    pm.response.to.have.status(401);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"무단 수정 시도\",\n  \"content\": \"토큰 없이 수정\",\n  \"categoryId\": 1\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/posts/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "posts", "1"]
						},
						"description": "Authorization 헤더 없이 게시글 수정 요청 → 401 Unauthorized."
					},
					"response": []
				},
				{
					"name": "11-3. 회원 탈퇴 (⚠️ 마지막에 실행)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users/me",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "me"]
						},
						"description": "⚠️ 회원 탈퇴 - 계정이 삭제되므로 반드시 시나리오 마지막에 실행.\n이후 해당 토큰으로 API 호출 불가."
					},
					"response": []
				}
			]
		}
	]
}